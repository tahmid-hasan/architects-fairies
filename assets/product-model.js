class ProductModel extends HTMLElement{constructor(){super()}connectedCallback(){this.view=this.getAttribute("data-view"),this.cdn="https://cdn.shopify.com/shopifycloud/model-viewer-ui/assets/v1.0/model-viewer-ui",this.xr_cdn="https://cdn.shopify.com/shopifycloud/shopify-xr-js/assets/v1.0/shopify-xr.en.js",this.eventListeners(),theme.utils.stylesheetLoader("model",this.cdn+".css"),theme.utils.libraryLoader("xr",this.xr_cdn),theme.utils.libraryLoader("model",this.cdn+".en.js",()=>this.loadModel())}eventListeners(){this.on("theme:section:load",()=>this.loadModel()),this.on("pauseMedia",()=>{this.model&&this.model.pause()}),this.on("playMedia",()=>{this.model&&this.model.play()}),window.on("resize.ProductModel",theme.utils.debounce(250,()=>this.trigger("pauseMedia")))}loadModel(){this.model||"small"===theme.mqs.current_window&&"desktop"===this.view||"small"!==theme.mqs.current_window&&"mobile"===this.view||void 0!==Shopify.ModelViewerUI&&(this.model=new Shopify.ModelViewerUI(this.querySelector("model-viewer")),window.trigger("theme:product:mediaLoaded"))}}customElements.define("product-model-root",ProductModel);